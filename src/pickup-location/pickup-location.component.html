<app-header ></app-header>



<div  class=" gap-8 xl:gap-12 pt-20 pb-20 px-4 xl:px-12" *ngIf="!isProfileComplete" >
<div 
  class="mx-5 xl:mx-12 mb-6 flex items-start gap-10 xl:gap-14 pt-20 pb-20 px-5 xl:px-12
         rounded-xl border border-red-200 bg-gradient-to-r from-red-50 to-white
         shadow-sm"
       
>
  <!-- Icon -->
  <div class="flex-shrink-0">
    <div class="h-10 w-10 flex items-center justify-center
                rounded-full bg-red-100 text-red-600 text-xl">
      ⚠️
    </div>
  </div>

  <!-- Text -->
  <div class="flex-1">
    <p class="text-base font-semibold text-red-700">
      Profile incomplete
    </p>
    <p class="text-sm text-red-600 mt-1 leading-relaxed">
      Some required details are missing in your profile.
      Please complete your profile to continue publishing a ride.
    </p>

    <!-- Action -->
    <div class="mt-4">
      <button
        routerLink="/profile"
        class="inline-flex items-center gap-2 px-4 py-2
               bg-red-600 text-white text-sm font-medium
               rounded-lg hover:bg-red-700 transition"
      >
        Complete Profile
        <span>→</span>
      </button>
    </div>
  </div>
</div>
</div>
<!-- Container -->
<div *ngIf="isProfileComplete" class="flex flex-col xl:flex-row gap-8 xl:gap-12 pt-20 pb-20 px-4 xl:px-12">

  <!-- Left Column: Map -->
  <div class="flex-1">
    <div id="map" class="h-[500px] w-full rounded-xl shadow-md border border-gray-200"></div>
  </div>

  <!-- Right Column: Controls -->
  <div class="flex-1 space-y-6">

    <!-- Address Inputs -->
    <div class="space-y-4">
      <div>
        <h3 class="text-lg font-semibold text-gray-800">Pickup Location</h3>
        <input
          type="text"
          [(ngModel)]="pickupAddress"
          #locationInput
          placeholder="Enter Pickup Address"
          class="w-full px-4 py-2 border rounded-md shadow-sm"
        />
      </div>

      <div>
        <h3 class="text-lg font-semibold text-gray-800">Dropoff Location</h3>
        <input
          type="text"
          [(ngModel)]="dropoffAddress"
          #DropoffInput
          placeholder="Enter Dropoff Address"
          class="w-full px-4 py-2 border rounded-md shadow-sm"
        />
      </div>

      <button
        (click)="calculateRoute()"
        [disabled]="!isProfileComplete"
        class="w-full px-6 py-2 font-semibold text-white rounded
               bg-orange-700 hover:bg-orange-800
               disabled:bg-gray-400 disabled:cursor-not-allowed"
      >
        Show Route
      </button>
    </div>

    <!-- Routes List -->
    <div *ngIf="routes.length > 0">
      <h3 class="text-lg font-semibold text-gray-800">Select a Route:</h3>
      <ul class="mt-2 space-y-2">
        <li
          *ngFor="let route of routes; let i = index"
          (click)="selectRoute(i)"
          class="cursor-pointer px-4 py-2 rounded border hover:bg-blue-100"
          [class.font-bold]="i === selectedRouteIndex"
          [class.bg-blue-50]="i === selectedRouteIndex"
        >
          Route {{ i + 1 }} — {{ route.legs[0].distance.text }}
          ({{ route.legs[0].duration.text }})
        </li>
      </ul>
    </div>

    <!-- Stop Points -->
    <div *ngIf="stopPoints.length > 0">
      <h3 class="text-lg font-semibold text-gray-800">Select a Stop Point:</h3>
      <form class="mt-2 space-y-2">
        <div *ngFor="let point of stopPoints" class="flex items-center space-x-3">
          <input
            type="radio"
            name="stopPoint"
            [value]="point.id"
            [(ngModel)]="selectedStop.id"
            (change)="selectStop(point)"
            class="accent-blue-600"
          />
          <label class="text-gray-700">
            <strong>Stop {{ point.id + 1 }}:</strong> {{ point.instruction }}
          </label>
        </div>
      </form>
    </div>

    <!-- Add Custom Stop -->
    <div class="space-y-4">
      <input
        type="text"
        [(ngModel)]="customStop"
        placeholder="Enter custom stop"
        class="w-full px-4 py-2 border rounded-md"
      />

      <button
        (click)="addCustomStop()"
        class="w-full px-6 py-2 bg-orange-700 text-white rounded hover:bg-orange-800"
      >
        Add Stop
      </button>

      <button
        (click)="saveStopPoint()"
        [disabled]="!isProfileComplete"
        class="w-full px-6 py-2 bg-orange-700 text-white rounded
               hover:bg-orange-800
               disabled:bg-gray-400 disabled:cursor-not-allowed"
      >
        Save Stop Point
      </button>
    </div>

  </div>
</div>

<app-footer></app-footer>
